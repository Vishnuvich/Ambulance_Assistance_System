<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AAAS</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.0.2/chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css')}}">
    <link rel="stylesheet" type="text/css" href="/css/style.css">


    <!--
    <script>
        function clearcontent(elementID) {
            document.getElementById(elementID).innerHTML = "";
        }
    </script>
      -->


</head>

<body class="bg-dark">
    <ul class="nav nav-pills nav-justified p-2 bg-light" role="tablist">
        <li class="nav-item ">
            <a class="nav-link active" data-toggle="pill" href="#Destination">Destination</a>
        </li>
        <li class="nav-item ">
            <a class="nav-link" data-toggle="pill" href="#Map">Map</a>
        </li>
        <li class="nav-item ">
            <a class="nav-link" data-toggle="pill" href="#Sensor values">Sensor values</a>
        </li>
    </ul>



    <!-- Tab panes -->
    <div class="tab-content">
        <div class="tab-pane container active" id="Destination">
            <h3 class="text-center pt-4 " id="Headinvisible">Choose the Destination</h3>
            <h3 class="classnameinvisible text-center pt-4 " id="Invisible">DESTINATION SELECTED!</h3>
            <div class="flex-container pt-5 " id="div1invisible">
                <input type="radio" id="Destination1" name="Destination" value="A">
                <label for="Destination1">Destination 1</label>
                <input type="radio" id="Destination2" name="Destination" value="B">
                <label for="Destination2">Destination 2</label>
                <input type="radio" id="Destination3" name="Destination" value="C">
                <label for="Destination3">Destination 3</label>
            </div>
            <div class="flex-container pt-5 " id="div2invisible">
                <input type="radio" id="Destination4" name="Destination" value="D">
                <label for="Destination4">Destination 4</label>
                <input type="radio" id="Destination5" name="Destination" value="E">
                <label for="Destination5">Destination 5</label>
                <input type="radio" id="Destination6" name="Destination" value="F">
                <label for="Destination6">Destination 6</label>
            </div>
            <div class="button pt-5 text-center ">
                <button type="submit" onclick="myFunction()"> <i class="material-icons "
                        style="font-size: 40px;">keyboard_arrow_right</i>
                </button>
            </div>
        </div>
        <div class="tab-pane container fade" id="Map">
            <h4 class="text-center mt-5">Map</h4>
            <div id="googleMap" style="width:100%;height:510px;"></div>
        </div>
        <div class="tab-pane container fade" id="Sensor values">
            <h4 class="text-center mt-5">Sensor Values</h4>
            <div class="classname one flex-container text-center pt-5 ">

                <div class="col-4" id="myChart1" style="height: 300px; width: 100%;"></div>
                <div class="col-4">
                    <h4 class="pt-5">Temperature Value</h4>
                    <h4 class="pt-5">{{Temp}}</h4>
                </div>
                <!--<canvas class="col-4" id="myChart2" width="100px" height="30px"></canvas>-->
                <div class="col-4" id="myChart2" style="height: 300px; width: 100%;"></div>
            </div>
        </div>
    </div>


    <script>
        function myMap() {

            var myLatlng = new google.maps.LatLng(10.112312, 76.352808);
            var mapProp = {
                center: myLatlng,
                zoom: 18,
                //mapTypeId: 'hybrid',
                //heading: 90,
                tilt: 45
            };




            var map = new google.maps.Map(document.getElementById("googleMap"), mapProp);
            var marker = new google.maps.Marker({
                position: myLatlng,
                animation: google.maps.Animation.BOUNCE,
            });
            marker.setMap(map);
            // map.setMapTypeId(google.maps.MapTypeId.HYBRID);

            //directionsDisplay.setPanel(document.getElementById('panel'));

        }
    </script>


    <!----------------     MAP SCRIPT  ---------------->




    <!------SCRIPT FOR BUTTON SUBMIT------->

    <script>
        function myFunction() {
            var rates = document.getElementsByName('Destination');
            var rate_value;
            var data;
            for (var i = 0; i < rates.length; i++) {
                if (rates[i].checked) {
                    rate_value = rates[i].value;
                    data = rate_value;
                    //alert("value : " + rate_value)              
                    //document.getElementById('Destination').innerHTML = "";
                    document.getElementById('Invisible').style.display = "block"
                    document.getElementById('Headinvisible').style.display = "none"
                    //document.getElementById("Destination").innerHTML = "Paragraph changed!";
                }
                console.log(data)
                $.get("/postmethod", {
                    javascript_data: data
                });
            }

            var myLatlng = new google.maps.LatLng(10.112312, 76.352808);
            var mapProp = {
                center: myLatlng,
                zoom: 10,
                preserveViewport: true,
            };

            var map = new google.maps.Map(document.getElementById("googleMap"), mapProp);
            var directionsService = new google.maps.DirectionsService();
            var directionsDisplay = new google.maps.DirectionsRenderer({ preserveViewport: true });
            directionsDisplay.setMap(map);

            var marker = new google.maps.Marker({
                position: myLatlng,
                animation: google.maps.Animation.BOUNCE,
            });
            marker.setMap(map);

            var request = {
                origin: 'Aluva',
                destination: 'Kochi',
                travelMode: google.maps.DirectionsTravelMode.DRIVING,
            };

            directionsService.route(request, function (response, status) {
                if (status == google.maps.DirectionsStatus.OK) {
                    directionsDisplay.setDirections(response);
                }
            });
        }
    </script>





    <script>
        window.onload = function () {

            var dps = []; // dataPoints
            var chart1 = new CanvasJS.Chart("myChart1", {
                backgroundColor: "",
                theme: "dark1",
                title: {
                    text: "Pulse sensor"
                },
                data: [{
                    type: "line",
                    dataPoints: dps
                }]
            });

            var chart2 = new CanvasJS.Chart("myChart2", {
                backgroundColor: "",
                theme: "dark1",
                title: {
                    text: "Dynamic Data"
                },
                data: [{
                    type: "line",
                    dataPoints: dps
                }]
            });

            var xVal = 0;
            var yVal = 100;
            var updateInterval = 300;
            var dataLength = 10; // number of dataPoints visible at any point

            var updateChart = function (count) {

                count = count || 1;

                for (var j = 0; j < count; j++) {
                    yVal = yVal + Math.round(5 + Math.random() * (-5 - 5));
                    dps.push({
                        x: xVal,
                        y: yVal
                    });
                    xVal++;
                }

                if (dps.length > dataLength) {
                    dps.shift();
                }

                chart1.render();
                chart2.render();
            };

            updateChart(dataLength);
            setInterval(function () { updateChart() }, updateInterval);

        }
    </script>



    <!--cdn for live map canvas.js-->

    <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>



    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
        integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
        crossorigin="anonymous"></script>

</body>

</html>